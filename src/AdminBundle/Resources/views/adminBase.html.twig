{% extends('@TrinityAdmin/extend_layout.html.twig') %}

{% block headerJavascripts %}
    {#Some helper settings#}
    <script src="{{ asset('js/lib/abbreviations.js') }}"></script>
{% endblock %}

{% block stylesheets %}
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,100,500italic,700,900,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="{{ asset("assetic/necktie_icons.css") }}"/>
{% endblock %}


{% block trinity_admin_script_footer %}

    {# FOR TOM: NEVER EVER REMOVE THIS!#}
    {% block necktieJavascript %}
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        {#Necktie JS#}
        {% if app.environment is same as('dev') %}
            {#Uncompiled#}
            <script src="{{ asset('js/jspm_packages/system.js') }}"></script>
            <script type="application/javascript">
                // Source config
                System.config({"baseURL": "{{ asset('js') }}"});
            </script>
            <script src="{{ asset('js/config.js') }}"></script>
            <script src="{{ asset('js/bundles/babel.bundle.min.js') }}"></script>
            <script src="{{ asset('js/bundles/vendor.bundle.min.js') }}"></script>
            <script src="{{ asset('js/bundles/trinity.bundle.js') }}"></script>
            <script type="application/javascript">
                //Start load app
                System.import("{{ asset('js/app/mainDev.js') }}").catch(function(e){
                    // If something gets wrong - change loader color to red
                    console.error(e);
                    var bar = q('.header-loader .bar');
                    if(bar){
                        bar.style.backgroundColor = "#f00";
                    }
                });
            </script>
        {% else %}
            {#Compiled#}
            <script src="{{ asset('js/venice.bundle.min.js') }}"></script>
        {% endif %}

        {#@todo Fisa delete#}
        {#Admin JS#}
        {# SORTABLE js is for drag and drop sorting  - will be used in future inside Dashboard probably#}
        {#<script src="{{ asset('js/lib/Sortable.min.js') }}"></script>#}

        {# WEBSHIMS - Needed for HTML5 form features in older browsers#}
        <script src="//cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js"></script>
        <script>
            webshims.setOptions('forms-ext', {types: 'date'});
            webshims.polyfill('forms forms-ext');
        </script>
    {% endblock %}

    {{ parent() }}
{% endblock %}

{#disable loading bar#}
{% block page_loading %}
{% endblock %}
